<project name="ant-dirigent">
	<path id="dirigent.classpath">
		<fileset dir="../dirigent/lib">
			<include name="*/**.jar" />
		</fileset>
		<dirset dir="../dirigent">
			<include name="bin" />
			<include name="resources" />
		</dirset>
	</path>
	
	<!-- 
	Launch dirigent generator for specified model element.
	uri - URI of model element to generate.
	model - Model path. 
	-->
	<macrodef name="dirigent">
		<attribute name="modelType" />
		<attribute name="uri" />
		<attribute name="model" />
		<sequential>
			<java classname="org.dirigent.Dirigent" classpathref="dirigent.classpath"
				fork="true">
				<sysproperty key="dirigent.model.type" value="@{modelType}"/>
				<arg value="@{model}" />
				<arg value="@{uri}" />
			</java>
		</sequential>
	</macrodef>
</project>